{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Set of useful tips for developers who are using bash, git, mysql, etc. Mkdocs pip install mkdocs - install mkdocs ( more info ) pip install mkdocs-material - install material theme ( more info ) mkdocs serve - start HTTP server mkdocs gh-deploy - deploy to github pages Markdown Cheatsheet","title":"Home"},{"location":"#mkdocs","text":"pip install mkdocs - install mkdocs ( more info ) pip install mkdocs-material - install material theme ( more info ) mkdocs serve - start HTTP server mkdocs gh-deploy - deploy to github pages Markdown Cheatsheet","title":"Mkdocs"},{"location":"composer/","text":"Add a custom packages repository composer config --global repositories.example composer https://packages.example.com/ Install composer package from a local folder mkdir -p ~/composer-packages/ cp vendor-module-x.x.x.zip ~/composer-packages/ cd ~/public_html/ composer config repositories.local artifact ~/composer-packages/ composer require vendor/module #or composer update vendor/module","title":"Composer"},{"location":"composer/#add-a-custom-packages-repository","text":"composer config --global repositories.example composer https://packages.example.com/","title":"Add a custom packages repository"},{"location":"composer/#install-composer-package-from-a-local-folder","text":"mkdir -p ~/composer-packages/ cp vendor-module-x.x.x.zip ~/composer-packages/ cd ~/public_html/ composer config repositories.local artifact ~/composer-packages/ composer require vendor/module #or composer update vendor/module","title":"Install composer package from a local folder"},{"location":"disk/","text":"write iso to disk dd if = os.img of = /dev/sdX bs = 1M status = progress oflag = dsync where - oflag=dsync - synchronize I/O for data. RAM disk sudo mount -o size=2G -t tmpfs none my.project.com","title":"Disk"},{"location":"disk/#write-iso-to-disk","text":"dd if = os.img of = /dev/sdX bs = 1M status = progress oflag = dsync where - oflag=dsync - synchronize I/O for data.","title":"write iso to disk"},{"location":"disk/#ram-disk","text":"sudo mount -o size=2G -t tmpfs none my.project.com","title":"RAM disk"},{"location":"git/","text":"Daily Routine Push w/o user/password prompt Change origin from https to ssh git remote set-url origin git@github.com:username/projectname.git Update local list of remote branches git branch -a git remote update origin --prune Adding a remote git remote -v git remote add origin https://domain.com/myrepo.git Merge branch as new commit git merge --squash branch_name git commit Misc define parent branch parent = $( git log --pretty = format: %D HEAD^ | grep origin/ | head -n1 | sed s@origin/@@ | sed s@,.*@@ ) list of unmerged files and locally changed files: ( git diff --no-commit-id --name-only origin/ $parent ..HEAD ; git status --porcelain | sed s/^...// ) | sort | uniq Setup Global .gitignore git config --global core.excludesfile ~/.gitignore vi ~/.gitignore Add your global ignores, e.g: .idea vendor studio .sass-cache .unison* Store passwords git config --global credential.helper store Workaround with 403 error git config --global --unset-all credential.helper git config --unset-all credential.helper git lg git config --global alias.lg log --all --color --graph --pretty=format: %Cred%h%Creset - %s %Cgreen(%cr) %C(bold blue) %an %Creset %C(yellow)%d%Creset --abbrev-commit","title":"Git"},{"location":"git/#daily-routine","text":"","title":"Daily Routine"},{"location":"git/#push-wo-userpassword-prompt","text":"Change origin from https to ssh git remote set-url origin git@github.com:username/projectname.git","title":"Push w/o user/password prompt"},{"location":"git/#update-local-list-of-remote-branches","text":"git branch -a git remote update origin --prune","title":"Update local list of remote branches"},{"location":"git/#adding-a-remote","text":"git remote -v git remote add origin https://domain.com/myrepo.git","title":"Adding a remote"},{"location":"git/#merge-branch-as-new-commit","text":"git merge --squash branch_name git commit","title":"Merge branch as new commit"},{"location":"git/#misc","text":"define parent branch parent = $( git log --pretty = format: %D HEAD^ | grep origin/ | head -n1 | sed s@origin/@@ | sed s@,.*@@ ) list of unmerged files and locally changed files: ( git diff --no-commit-id --name-only origin/ $parent ..HEAD ; git status --porcelain | sed s/^...// ) | sort | uniq","title":"Misc"},{"location":"git/#setup","text":"","title":"Setup"},{"location":"git/#global-gitignore","text":"git config --global core.excludesfile ~/.gitignore vi ~/.gitignore Add your global ignores, e.g: .idea vendor studio .sass-cache .unison*","title":"Global .gitignore"},{"location":"git/#store-passwords","text":"git config --global credential.helper store","title":"Store passwords"},{"location":"git/#workaround-with-403-error","text":"git config --global --unset-all credential.helper git config --unset-all credential.helper","title":"Workaround with 403 error"},{"location":"git/#git-lg","text":"git config --global alias.lg log --all --color --graph --pretty=format: %Cred%h%Creset - %s %Cgreen(%cr) %C(bold blue) %an %Creset %C(yellow)%d%Creset --abbrev-commit","title":"git lg"},{"location":"gnome/","text":"Default GUI text editor Find the text/plain=gedit.desktop text in the one of the following files: # local user vi ~/.local/share/applications/mimeapps.list # or sudo vi /usr/share/applications/defaults.list # or sudo vi /etc/gnome/defaults.list and replace to text/plain=sublime_text.desktop Default Console Text Editor sudo update-alternatives --config editor Other Make notify-send work from user cron file in ubuntu","title":"Gnome"},{"location":"gnome/#default-gui-text-editor","text":"Find the text/plain=gedit.desktop text in the one of the following files: # local user vi ~/.local/share/applications/mimeapps.list # or sudo vi /usr/share/applications/defaults.list # or sudo vi /etc/gnome/defaults.list and replace to text/plain=sublime_text.desktop","title":"Default GUI text editor"},{"location":"gnome/#default-console-text-editor","text":"sudo update-alternatives --config editor","title":"Default Console Text Editor"},{"location":"gnome/#other","text":"Make notify-send work from user cron file in ubuntu","title":"Other"},{"location":"htaccess/","text":"Disable Browser Cache for specific folder Place the following line into .htaccess: Header set Cache-Control no-store expr=%{REQUEST_URI}=~/(VendorName1|VendorName2|requirejs-config\\.js)/i As result url with \"VendorName\" in path will get Pragma \"no-cache\" http header, so browser won't cache it. This trick is very useful for magento developers who are working with js components or html templates and want to disable cache for a certain folder only. Basic Auth with URL exception Access /dir/subdir/file.txt file without authorization SetEnvIf Request_URI dir\\/subdir\\/file\\.txt$ no_auth AuthType Basic AuthUserFile /home/user/public_html/.htpasswd AuthName Restricted Area Require valid-user Order allow,deny Allow from env=no_auth Satisfy any Define base path as environment variable for further usage RewriteCond %{REQUEST_URI}::$1 ^(/.+)/(.*)::\\2$ RewriteRule ^(.*) - [E=BASE:%1] RewriteRule ^(.*)$ %{ENV:BASE}/index.php [L]","title":"Htaccess"},{"location":"htaccess/#disable-browser-cache-for-specific-folder","text":"Place the following line into .htaccess: Header set Cache-Control no-store expr=%{REQUEST_URI}=~/(VendorName1|VendorName2|requirejs-config\\.js)/i As result url with \"VendorName\" in path will get Pragma \"no-cache\" http header, so browser won't cache it. This trick is very useful for magento developers who are working with js components or html templates and want to disable cache for a certain folder only.","title":"Disable Browser Cache for specific folder"},{"location":"htaccess/#basic-auth-with-url-exception","text":"Access /dir/subdir/file.txt file without authorization SetEnvIf Request_URI dir\\/subdir\\/file\\.txt$ no_auth AuthType Basic AuthUserFile /home/user/public_html/.htpasswd AuthName Restricted Area Require valid-user Order allow,deny Allow from env=no_auth Satisfy any","title":"Basic Auth with URL exception"},{"location":"htaccess/#define-base-path-as-environment-variable-for-further-usage","text":"RewriteCond %{REQUEST_URI}::$1 ^(/.+)/(.*)::\\2$ RewriteRule ^(.*) - [E=BASE:%1] RewriteRule ^(.*)$ %{ENV:BASE}/index.php [L]","title":"Define base path as environment variable for further usage"},{"location":"http2/","text":"Check HTTP2 support curl --http2 -vI https://http1.golang.org/ 2 1 | grep ALPN * ALPN, offering h2 * ALPN, offering http/1.1 * ALPN, server did not agree to a protocol curl --http2 -vI https://http2.golang.org/ 2 1 | grep ALPN * ALPN, offering h2 * ALPN, offering http/1.1 * ALPN, server accepted to use h2 httpd.conf Protocols h2 http/1.1","title":"Http2"},{"location":"http2/#check-http2-support","text":"curl --http2 -vI https://http1.golang.org/ 2 1 | grep ALPN * ALPN, offering h2 * ALPN, offering http/1.1 * ALPN, server did not agree to a protocol curl --http2 -vI https://http2.golang.org/ 2 1 | grep ALPN * ALPN, offering h2 * ALPN, offering http/1.1 * ALPN, server accepted to use h2","title":"Check HTTP2 support"},{"location":"http2/#httpdconf","text":"Protocols h2 http/1.1","title":"httpd.conf"},{"location":"magento1/","text":"Setup Dynamic Base URL INSERT INTO core_config_data ( ` path ` , ` value ` ) VALUES ( web/url/use_store , 1 ), ( web/unsecure/base_url , {{base_url}} ), ( web/secure/base_url , {{base_url}} ), ( web/unsecure/base_link_url , {{unsecure_base_url}} ), ( web/unsecure/base_skin_url , {{unsecure_base_url}}skin/ ), ( web/unsecure/base_media_url , {{unsecure_base_url}}media/ ), ( web/unsecure/base_js_url , {{unsecure_base_url}}js/ ), ( web/secure/base_link_url , {{secure_base_url}} ), ( web/secure/base_skin_url , {{secure_base_url}}skin/ ), ( web/secure/base_media_url , {{secure_base_url}}media/ ), ( web/secure/base_js_url , {{secure_base_url}}js/ ) ON DUPLICATE KEY UPDATE ` value ` = VALUES ( ` value ` ); CLI clear cache php -r require app/Mage.php ; Mage::app()- getCacheInstance()- flush(); Unison profile ~/.unison/magento1.prf include default ignore = Path var/?* ignore = Path var/.?* ignore = Path media force secure urls app/etc/local.xml ?xml version= 1.0 ? config frontend secure_url all / /all /secure_url /frontend /config","title":"Magento1"},{"location":"magento1/#setup-dynamic-base-url","text":"INSERT INTO core_config_data ( ` path ` , ` value ` ) VALUES ( web/url/use_store , 1 ), ( web/unsecure/base_url , {{base_url}} ), ( web/secure/base_url , {{base_url}} ), ( web/unsecure/base_link_url , {{unsecure_base_url}} ), ( web/unsecure/base_skin_url , {{unsecure_base_url}}skin/ ), ( web/unsecure/base_media_url , {{unsecure_base_url}}media/ ), ( web/unsecure/base_js_url , {{unsecure_base_url}}js/ ), ( web/secure/base_link_url , {{secure_base_url}} ), ( web/secure/base_skin_url , {{secure_base_url}}skin/ ), ( web/secure/base_media_url , {{secure_base_url}}media/ ), ( web/secure/base_js_url , {{secure_base_url}}js/ ) ON DUPLICATE KEY UPDATE ` value ` = VALUES ( ` value ` );","title":"Setup Dynamic Base URL"},{"location":"magento1/#cli-clear-cache","text":"php -r require app/Mage.php ; Mage::app()- getCacheInstance()- flush();","title":"CLI clear cache"},{"location":"magento1/#unison-profile","text":"~/.unison/magento1.prf include default ignore = Path var/?* ignore = Path var/.?* ignore = Path media","title":"Unison profile"},{"location":"magento1/#force-secure-urls","text":"app/etc/local.xml ?xml version= 1.0 ? config frontend secure_url all / /all /secure_url /frontend /config","title":"force secure urls"},{"location":"mkdocs/","text":"Installation Proceed with https://www.mkdocs.org/#installation Install theme pip install mkdocs-material Make sure there is PATH to mkdocs export PATH= $HOME/.local/bin:$PATH","title":"Mkdocs"},{"location":"mkdocs/#installation","text":"Proceed with https://www.mkdocs.org/#installation Install theme pip install mkdocs-material Make sure there is PATH to mkdocs export PATH= $HOME/.local/bin:$PATH","title":"Installation"},{"location":"mysql/","text":"Grant Priviledges GRANT ALL PRIVILEGES ON `website_com`.* TO website_user @ % ; Store mysql user name and password To use mysql and mysqldump commands without password just store credentials in ~/.my.cnf file, e.g.: [client] user= devuser password= devpassword Dump database w/o DEFINER dbName = dbname mysqldump --opt $dbName | sed -e s/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/ | bzip2 $dbName .sql.bz2 dbName = dbname mysqldump --opt $dbName | sed -E s/DEFINER=[^ *]+// | bzip2 $dbName .sql.bz2 Additional useful options: --extended-insert=FALSE - to analyze/edit dump --insert-ignore - when db has unique key duplicates (happens some time) Calculate database size SELECT table_schema AS Database , ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS Size (MB) FROM information_schema.TABLES GROUP BY table_schema; Locking if get_lock(lock_name, 1) then -- LOCKING ok, proceed set @0 = release_lock(lock_name); else -- LOCKING failed, handle this end if;","title":"Mysql"},{"location":"mysql/#grant-priviledges","text":"GRANT ALL PRIVILEGES ON `website_com`.* TO website_user @ % ;","title":"Grant Priviledges"},{"location":"mysql/#store-mysql-user-name-and-password","text":"To use mysql and mysqldump commands without password just store credentials in ~/.my.cnf file, e.g.: [client] user= devuser password= devpassword","title":"Store mysql user name and password"},{"location":"mysql/#dump-database-wo-definer","text":"dbName = dbname mysqldump --opt $dbName | sed -e s/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/ | bzip2 $dbName .sql.bz2 dbName = dbname mysqldump --opt $dbName | sed -E s/DEFINER=[^ *]+// | bzip2 $dbName .sql.bz2 Additional useful options: --extended-insert=FALSE - to analyze/edit dump --insert-ignore - when db has unique key duplicates (happens some time)","title":"Dump database w/o DEFINER"},{"location":"mysql/#calculate-database-size","text":"SELECT table_schema AS Database , ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS Size (MB) FROM information_schema.TABLES GROUP BY table_schema;","title":"Calculate database size"},{"location":"mysql/#locking","text":"if get_lock(lock_name, 1) then -- LOCKING ok, proceed set @0 = release_lock(lock_name); else -- LOCKING failed, handle this end if;","title":"Locking"},{"location":"network/","text":"Check if port is opened $ nc -zvw5 google.com 80 Connection to google.com 80 port [tcp/http] succeeded! Get my IP Address ifconfig eth1 | awk /inet addr/{print substr($2,6)} OpenWRT Speed test with iperf3 # iperf3 -c ping.online.net -u -b 1G Connecting to host ping.online.net, port 5201 [ 5 ] local xxx.xxx.xxx.xxx port 46361 connected to 62 .210.18.40 port 5201 [ ID ] Interval Transfer Bitrate Total Datagrams [ 5 ] 0 .00-1.00 sec 114 MBytes 956 Mbits/sec 82519 [ 5 ] 1 .00-2.00 sec 111 MBytes 931 Mbits/sec 80335 [ 5 ] 2 .00-3.00 sec 108 MBytes 909 Mbits/sec 78439 [ 5 ] 3 .00-4.00 sec 109 MBytes 918 Mbits/sec 79250 [ 5 ] 4 .00-5.00 sec 109 MBytes 914 Mbits/sec 78939 [ 5 ] 5 .00-6.00 sec 109 MBytes 917 Mbits/sec 79203 [ 5 ] 6 .00-7.00 sec 111 MBytes 930 Mbits/sec 80253 [ 5 ] 7 .00-8.00 sec 110 MBytes 924 Mbits/sec 79802 [ 5 ] 8 .00-9.00 sec 110 MBytes 923 Mbits/sec 79676 [ 5 ] 9 .00-10.00 sec 111 MBytes 931 Mbits/sec 80381 - - - - - - - - - - - - - - - - - - - - - - - - - [ ID ] Interval Transfer Bitrate Jitter Lost/Total Datagrams [ 5 ] 0 .00-10.00 sec 1 .08 GBytes 925 Mbits/sec 0 .000 ms 0 /798797 ( 0 % ) sender [ 5 ] 0 .00-10.00 sec 114 MBytes 95 .7 Mbits/sec 0 .009 ms 716162 /798783 ( 90 % ) receiver iperf Done. - Results interpretation - iperf3 servers Set up Dropbear public key authentication ssh-copy-id root@192.168.1.1 ssh root@192.168.1.1 cp /root/.ssh/authorized_keys /etc/dropbear/ chmod 700 /etc/dropbear chmod 600 /etc/dropbear/authorized_keys IP Addresses daily log (cron job) 0 4 * * * echo `date +%Y-%m-%d` $(ifconfig eth1 | awk /inet addr/{print substr($2,6)} ) /root/ip.log","title":"Network"},{"location":"network/#check-if-port-is-opened","text":"$ nc -zvw5 google.com 80 Connection to google.com 80 port [tcp/http] succeeded!","title":"Check if port is opened"},{"location":"network/#get-my-ip-address","text":"ifconfig eth1 | awk /inet addr/{print substr($2,6)}","title":"Get my IP Address"},{"location":"network/#openwrt","text":"","title":"OpenWRT"},{"location":"network/#speed-test-with-iperf3","text":"# iperf3 -c ping.online.net -u -b 1G Connecting to host ping.online.net, port 5201 [ 5 ] local xxx.xxx.xxx.xxx port 46361 connected to 62 .210.18.40 port 5201 [ ID ] Interval Transfer Bitrate Total Datagrams [ 5 ] 0 .00-1.00 sec 114 MBytes 956 Mbits/sec 82519 [ 5 ] 1 .00-2.00 sec 111 MBytes 931 Mbits/sec 80335 [ 5 ] 2 .00-3.00 sec 108 MBytes 909 Mbits/sec 78439 [ 5 ] 3 .00-4.00 sec 109 MBytes 918 Mbits/sec 79250 [ 5 ] 4 .00-5.00 sec 109 MBytes 914 Mbits/sec 78939 [ 5 ] 5 .00-6.00 sec 109 MBytes 917 Mbits/sec 79203 [ 5 ] 6 .00-7.00 sec 111 MBytes 930 Mbits/sec 80253 [ 5 ] 7 .00-8.00 sec 110 MBytes 924 Mbits/sec 79802 [ 5 ] 8 .00-9.00 sec 110 MBytes 923 Mbits/sec 79676 [ 5 ] 9 .00-10.00 sec 111 MBytes 931 Mbits/sec 80381 - - - - - - - - - - - - - - - - - - - - - - - - - [ ID ] Interval Transfer Bitrate Jitter Lost/Total Datagrams [ 5 ] 0 .00-10.00 sec 1 .08 GBytes 925 Mbits/sec 0 .000 ms 0 /798797 ( 0 % ) sender [ 5 ] 0 .00-10.00 sec 114 MBytes 95 .7 Mbits/sec 0 .009 ms 716162 /798783 ( 90 % ) receiver iperf Done. - Results interpretation - iperf3 servers","title":"Speed test with iperf3"},{"location":"network/#set-up-dropbear-public-key-authentication","text":"ssh-copy-id root@192.168.1.1 ssh root@192.168.1.1 cp /root/.ssh/authorized_keys /etc/dropbear/ chmod 700 /etc/dropbear chmod 600 /etc/dropbear/authorized_keys","title":"Set up Dropbear public key authentication"},{"location":"network/#ip-addresses-daily-log-cron-job","text":"0 4 * * * echo `date +%Y-%m-%d` $(ifconfig eth1 | awk /inet addr/{print substr($2,6)} ) /root/ip.log","title":"IP Addresses daily log (cron job)"},{"location":"oh-my-git/","text":"Installation Checkout oh-my-git and switch to the \"theme\" branch sudo su - cd /opt git clone https://github.com/yutv/oh-my-git cd oh-my-git git checkout theme exit Add the following lines into your ~/.bashrc declare -A OMG_THEME=([ right_side_bg ]= green ) source /opt/oh-my-git/prompt.sh Install FontAwesome cd /tmp git clone http://github.com/gabrielelana/awesome-terminal-fonts cd awesome-terminal-fonts git checkout patching-strategy mkdir -p ~/.fonts cp patched/*.ttf ~/.fonts # update the font-info cache sudo fc-cache -fv ~/.fonts rm -Rf /tmp/awesome-terminal-fonts Change the Monospace font in Gnome Tweaks Gnome Tweaks Fonts Monospace = Driod Sans Mono Awesome Regular 11 Now try to change directory to a git repo and you will see a git info bar, e.g.:","title":"Oh my git"},{"location":"oh-my-git/#installation","text":"Checkout oh-my-git and switch to the \"theme\" branch sudo su - cd /opt git clone https://github.com/yutv/oh-my-git cd oh-my-git git checkout theme exit Add the following lines into your ~/.bashrc declare -A OMG_THEME=([ right_side_bg ]= green ) source /opt/oh-my-git/prompt.sh Install FontAwesome cd /tmp git clone http://github.com/gabrielelana/awesome-terminal-fonts cd awesome-terminal-fonts git checkout patching-strategy mkdir -p ~/.fonts cp patched/*.ttf ~/.fonts # update the font-info cache sudo fc-cache -fv ~/.fonts rm -Rf /tmp/awesome-terminal-fonts Change the Monospace font in Gnome Tweaks Gnome Tweaks Fonts Monospace = Driod Sans Mono Awesome Regular 11 Now try to change directory to a git repo and you will see a git info bar, e.g.:","title":"Installation"},{"location":"patch/","text":"Create Directory Patch diff --exclude= .git -ruN orig/ new/ | sed s#new/#b/# | sed s#orig/#a/# patch.sql where -r == recursive, so do subdirectories -u == unified style, if your system lacks it or if recipient may not have it, use -c -N == treat absent files as empty References: 1 , 2 . Apply Patch patch -p1 --no-backup-if-mismatch -d vendor/vendor-name/module-name _extra/patches/vendor-name/module-name/patch-name.patch","title":"Patch"},{"location":"patch/#create-directory-patch","text":"diff --exclude= .git -ruN orig/ new/ | sed s#new/#b/# | sed s#orig/#a/# patch.sql where -r == recursive, so do subdirectories -u == unified style, if your system lacks it or if recipient may not have it, use -c -N == treat absent files as empty References: 1 , 2 .","title":"Create Directory Patch"},{"location":"patch/#apply-patch","text":"patch -p1 --no-backup-if-mismatch -d vendor/vendor-name/module-name _extra/patches/vendor-name/module-name/patch-name.patch","title":"Apply Patch"},{"location":"pdf/","text":"Create Booklet pdfbook --short-edge --frame true --scale 0.95 file.pdf","title":"Pdf"},{"location":"pdf/#create-booklet","text":"pdfbook --short-edge --frame true --scale 0.95 file.pdf","title":"Create Booklet"},{"location":"php/","text":"Date Diff php -r echo (new DateTime( 2019-10-31 14:37:17 ))- diff(new DateTime( 2019-10-29 10:03:05 ))- format( %R%ad%Hh ); Useful links Accessing private properties in PHP phpcs phpcbf cd ~/bin wget https://squizlabs.github.io/PHP_CodeSniffer/phpcs.phar -O phpcs chmod +x phpcs wget https://squizlabs.github.io/PHP_CodeSniffer/phpcbf.phar -O phpcbf chmod +x phpcbf # check supported standards $ phpcs -i The installed coding standards are MySource, PEAR, PSR1, PSR12, PSR2, Squiz and Zend # add custom standard, e.g cd ~/opt git clone https://github.com/magento/magento-coding-standard cd magento-coding-standard composer install # add custom standsrd to phpcs phpcs --config-set installed_paths /opt/magento-coding-standard # check supported standards (see that Magento2 standsrd is added) $ phpcs -i The installed coding standards are MySource, PEAR, PSR1, PSR12, PSR2, Squiz, Zend and Magento2 Other commands may be useful: phpcs --config-show installed_paths # remove installed_paths if they are wrong phpcs --config-delete installed_paths","title":"Php"},{"location":"php/#date-diff","text":"php -r echo (new DateTime( 2019-10-31 14:37:17 ))- diff(new DateTime( 2019-10-29 10:03:05 ))- format( %R%ad%Hh );","title":"Date Diff"},{"location":"php/#useful-links","text":"Accessing private properties in PHP","title":"Useful links"},{"location":"php/#phpcs-phpcbf","text":"cd ~/bin wget https://squizlabs.github.io/PHP_CodeSniffer/phpcs.phar -O phpcs chmod +x phpcs wget https://squizlabs.github.io/PHP_CodeSniffer/phpcbf.phar -O phpcbf chmod +x phpcbf # check supported standards $ phpcs -i The installed coding standards are MySource, PEAR, PSR1, PSR12, PSR2, Squiz and Zend # add custom standard, e.g cd ~/opt git clone https://github.com/magento/magento-coding-standard cd magento-coding-standard composer install # add custom standsrd to phpcs phpcs --config-set installed_paths /opt/magento-coding-standard # check supported standards (see that Magento2 standsrd is added) $ phpcs -i The installed coding standards are MySource, PEAR, PSR1, PSR12, PSR2, Squiz, Zend and Magento2 Other commands may be useful: phpcs --config-show installed_paths # remove installed_paths if they are wrong phpcs --config-delete installed_paths","title":"phpcs &amp; phpcbf"},{"location":"redis/","text":"Useful commands redis-cli FLUSHDB # delete all the keys of the currently selected DB. redis-cli FLUSHALL # delete all the keys of all the existing databases, not just the currently selected one.","title":"Redis"},{"location":"redis/#useful-commands","text":"redis-cli FLUSHDB # delete all the keys of the currently selected DB. redis-cli FLUSHALL # delete all the keys of all the existing databases, not just the currently selected one.","title":"Useful commands"},{"location":"ssh/","text":"Separate ssh key for a specific host vi ~/.ssh/config Host github.com IdentityFile ~/.ssh/github_id_rsa.pub","title":"Ssh"},{"location":"ssh/#separate-ssh-key-for-a-specific-host","text":"vi ~/.ssh/config Host github.com IdentityFile ~/.ssh/github_id_rsa.pub","title":"Separate ssh key for a specific host"},{"location":"system/","text":"Info #system info in short format inxi -F Disable Selinux #runtime sudo setenforce 0 #permanently /etc/selinux/config SELINUX=disabled Kernel parameters vi /etc/sysctl.conf # custom settings $ disable IPv6 net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 # Increase inotify.max_user_watches (https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers) fs.inotify.max_user_watches = 524288 Reload kernel parameters sysctl -p","title":"System"},{"location":"system/#info","text":"#system info in short format inxi -F","title":"Info"},{"location":"system/#disable-selinux","text":"#runtime sudo setenforce 0 #permanently /etc/selinux/config SELINUX=disabled","title":"Disable Selinux"},{"location":"system/#kernel-parameters","text":"vi /etc/sysctl.conf # custom settings $ disable IPv6 net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 # Increase inotify.max_user_watches (https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers) fs.inotify.max_user_watches = 524288 Reload kernel parameters sysctl -p","title":"Kernel parameters"},{"location":"xdebug/","text":"PHP-CLI php -dxdebug.remote_autostart=1 script.php","title":"Xdebug"},{"location":"xdebug/#php-cli","text":"php -dxdebug.remote_autostart=1 script.php","title":"PHP-CLI"},{"location":"bash/general/","text":"path info file= /home/user/file.inc.php basename=${file##*/} # file.inc.php filename=${basename%.*} # file.inc extension=${file##*.} # php dirname=${file%/*} # /home/user SSH authentication by key cd ~/.ssh ssh-keygen ssh-copy-id -i ~/.ssh/id_rsa.pub remote.host.com ssh-add ssh remote.host.com If username has a \u201c@\u201d symbol then use the following: ssh -l user@example.com example.com mkdir .ssh touch .ssh/authorized_keys exit cat ~/.ssh/id_rsa.pub | ssh -l user@example.com example.com cat .ssh/authorized_keys chmod 700 .ssh chmod 400 .ssh/authorized_keys ssh -l user@example.com example.com Bash prompt w/ path and colors ~/.bash_profile : Local (green) export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;47m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;208m\\]\\h:\\[\\e[0;38;05;111m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] Remote (yellow): export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;226m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;226m\\]\\h:\\[\\e[0;38;05;180m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] Root (red and yellow) export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;196m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;226m\\]\\h:\\[\\e[0;38;05;180m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] Colors for i in { 0 ..255 } ; do echo -e \\e[38;05; ${ i } m ${ i } ; done | column -c 80 -s ; echo -e \\e[m for code in $( seq -w 0 255 ) ; do for attr in 0 1 ; do printf %s-%03s %bTest%b\\n ${ attr } ${ code } \\e[ ${ attr } ;38;05; ${ code } m \\e[m ; done ; done | column -c $(( COLUMNS*2 )) Vim ~/.vimrc set nocompatible set backspace = 2 set tabstop = 4 set expandtab set number Load additional php.ini when run php from terminal Add the following line into ~/.bashrc file: export PHP_INI_SCAN_DIR=\":$HOME/etc/php70\" Put additional config into ~/etc/php70/php.ini , e.g: memory_limit = -1 Run the command #1 or re-login terminal Check ini paths: php --ini Check memory limit: $ php -i | grep memory_limit memory_limit = -1 = -1 More info on php.net Convert DOS to Unix newlines in current directory excluding .git directory find . -type f -not -path ./.git/* -print0 | xargs -0 dos2unix Use custom SSH port with rsync/ssh/scp/sshfs rsync -avz -e ssh -p 2244 --exclude=var user@server.com:/html/ . ssh user@server.com -p 2244 scp -P 2244 user@server.com:/html/website_db.sql . sshfs user@server.com:/html -p 2244 server.com Upload multiple files w/o file name duplication scp { ,user@example.com:~/ } public_html/index.php scp { ,user@example.com:~/ } public_html/.htaccess scp { ,user@example.com:~/ } public_html/images/logo.png scp { ,user@example.com:~/ } public_html/js/jquery.js FIX permissions find . -type f -exec chmod 640 {} \\; find . -type d -exec chmod 750 {} \\; Statistics Find # of code lines in directory ( find . -type f -name *.php -print0 | xargs -0 cat ) | wc -l Ctrl+C Hook trap ctrl_c INT function ctrl_c() { echo Triggered CTRL+C event } Useful links How to parse command line arguments","title":"General"},{"location":"bash/general/#path-info","text":"file= /home/user/file.inc.php basename=${file##*/} # file.inc.php filename=${basename%.*} # file.inc extension=${file##*.} # php dirname=${file%/*} # /home/user","title":"path info"},{"location":"bash/general/#ssh-authentication-by-key","text":"cd ~/.ssh ssh-keygen ssh-copy-id -i ~/.ssh/id_rsa.pub remote.host.com ssh-add ssh remote.host.com If username has a \u201c@\u201d symbol then use the following: ssh -l user@example.com example.com mkdir .ssh touch .ssh/authorized_keys exit cat ~/.ssh/id_rsa.pub | ssh -l user@example.com example.com cat .ssh/authorized_keys chmod 700 .ssh chmod 400 .ssh/authorized_keys ssh -l user@example.com example.com","title":"SSH authentication by key"},{"location":"bash/general/#bash-prompt-w-path-and-colors","text":"~/.bash_profile : Local (green) export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;47m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;208m\\]\\h:\\[\\e[0;38;05;111m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] Remote (yellow): export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;226m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;226m\\]\\h:\\[\\e[0;38;05;180m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] Root (red and yellow) export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;196m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;226m\\]\\h:\\[\\e[0;38;05;180m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\]","title":"Bash prompt w/ path and colors"},{"location":"bash/general/#colors","text":"for i in { 0 ..255 } ; do echo -e \\e[38;05; ${ i } m ${ i } ; done | column -c 80 -s ; echo -e \\e[m for code in $( seq -w 0 255 ) ; do for attr in 0 1 ; do printf %s-%03s %bTest%b\\n ${ attr } ${ code } \\e[ ${ attr } ;38;05; ${ code } m \\e[m ; done ; done | column -c $(( COLUMNS*2 ))","title":"Colors"},{"location":"bash/general/#vim","text":"~/.vimrc set nocompatible set backspace = 2 set tabstop = 4 set expandtab set number","title":"Vim"},{"location":"bash/general/#load-additional-phpini-when-run-php-from-terminal","text":"Add the following line into ~/.bashrc file: export PHP_INI_SCAN_DIR=\":$HOME/etc/php70\" Put additional config into ~/etc/php70/php.ini , e.g: memory_limit = -1 Run the command #1 or re-login terminal Check ini paths: php --ini Check memory limit: $ php -i | grep memory_limit memory_limit = -1 = -1 More info on php.net","title":"Load additional php.ini when run php from terminal"},{"location":"bash/general/#convert-dos-to-unix-newlines-in-current-directory-excluding-git-directory","text":"find . -type f -not -path ./.git/* -print0 | xargs -0 dos2unix","title":"Convert DOS to Unix newlines in current directory excluding .git directory"},{"location":"bash/general/#use-custom-ssh-port-with-rsyncsshscpsshfs","text":"rsync -avz -e ssh -p 2244 --exclude=var user@server.com:/html/ . ssh user@server.com -p 2244 scp -P 2244 user@server.com:/html/website_db.sql . sshfs user@server.com:/html -p 2244 server.com","title":"Use custom SSH port with rsync/ssh/scp/sshfs"},{"location":"bash/general/#upload-multiple-files-wo-file-name-duplication","text":"scp { ,user@example.com:~/ } public_html/index.php scp { ,user@example.com:~/ } public_html/.htaccess scp { ,user@example.com:~/ } public_html/images/logo.png scp { ,user@example.com:~/ } public_html/js/jquery.js","title":"Upload multiple files w/o file name duplication"},{"location":"bash/general/#fix-permissions","text":"find . -type f -exec chmod 640 {} \\; find . -type d -exec chmod 750 {} \\;","title":"FIX permissions"},{"location":"bash/general/#statistics","text":"","title":"Statistics"},{"location":"bash/general/#find-of-code-lines-in-directory","text":"( find . -type f -name *.php -print0 | xargs -0 cat ) | wc -l","title":"Find # of code lines in directory"},{"location":"bash/general/#ctrlc-hook","text":"trap ctrl_c INT function ctrl_c() { echo Triggered CTRL+C event }","title":"Ctrl+C Hook"},{"location":"bash/general/#useful-links","text":"How to parse command line arguments","title":"Useful links"},{"location":"magento-2/configuration/","text":"Bash Environment Configuration ~/.bashrc.d/env export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;47m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;153m\\]\\h:\\[\\e[0;38;05;111m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] alias phpx = php -dxdebug.remote_autostart=1 alias m2 = php bin/magento alias m2x = phpx bin/magento ~/.profile export PATH = $HOME /bin: $PATH Sign Static Files Disable timestamp in static files like pub/static/version12345993943/file.js bash m2 config:set dev/static/sign 0 Admin Stores Configuration Advanced Developer Static Files Settings Sign Static Files No SQL INSERT INTO core_config_data ( ` path ` , ` value ` ) VALUES ( dev/static/sign , 0 ) ON DUPLICATE KEY UPDATE ` value ` = VALUES ( value ); General Stores Configuration General Web m2 config:set web/cookie/cookie_lifetime 31536000 # Default Cookie Settings Cookie Lifetime m2 config:set web/seo/use_rewrites 1 # Search Engine Optimization Use Web Server Rewrites = Yes Stores Configuration Mageplaza Extensions General Configuration m2 config:set smtp/general/enabled 0 # Enable Mageplaza SMTP = No Set Base URL url = prj.com m2 setup:store-config:set --base-url = https:// $url / --base-url-secure = https:// $url / --use-secure = 1 --use-secure-admin = 1 m2 cache:clean Admin Stores Configuration Advanced Admin m2 config:set admin/captcha/enable 0 # CAPTCHA Enable CAPTCHA in Admin = No Stores Configuration Advanced Admin Security m2 config:set admin/security/session_lifetime 31536000 # Admin Session Lifetime (seconds) m2 config:set admin/security/password_lifetime # Password Lifetime (days) m2 config:set admin/security/admin_account_sharing 1 # Admin Account Sharing = Yes m2 config:set admin/security/lockout_failures # Maximum Login Failures to Lockout Account = m2 config:set admin/security/password_is_forced 0 # Password Change = Recommended m2 config:set admin/security/use_form_key 0 # Add Secret Key to URLs = No CSS/JS Stores Configuration Advanced CSS Settings m2 config:set dev/css/merge_css_files 0 # Merge CSS Files = No m2 config:set dev/css/minify_files 0 # Minify CSS Files = No Stores Configuration Advanced JavaScript Settings m2 config:set dev/js/merge_files 0 # Merge JavaScript Files = No m2 config:set dev/js/enable_js_bundling 0 # Enable JavaScript Bundling = No m2 config:set dev/js/minify_files 0 # Minify JavaScript Files = No Debug Template Hints m2 config:set dev/debug/template_hints_storefront 1 m2 config:set dev/debug/template_hints_blocks 1 # enable m2 config:set dev/debug/template_hints_storefront 0 m2 config:set dev/debug/template_hints_blocks 0 # disable Magento Admin Stores Configuration Advanced Developer Debug Enabled Template Path Hints for Storefront Stores Configuration Advanced Developer Debug Add Block Class Type to Hints Debug Logging m2 setup:config:set --enable-debug-logging = true m2 cache:flush # enable m2 setup:config:set --enable-debug-logging = false m2 cache:flush # disable Syslog Logging m2 setup:config:set --enable-syslog-logging = true m2 cache:flush # enable m2 setup:config:set --enable-syslog-logging = false m2 cache:flush # disable Database logging m2 dev:query-log:enable m2 cache:flush cat var/debug/db.log | less m2 dev:query-log:disable m2 cache:flush","title":"Configuration"},{"location":"magento-2/configuration/#sign-static-files","text":"Disable timestamp in static files like pub/static/version12345993943/file.js bash m2 config:set dev/static/sign 0 Admin Stores Configuration Advanced Developer Static Files Settings Sign Static Files No SQL INSERT INTO core_config_data ( ` path ` , ` value ` ) VALUES ( dev/static/sign , 0 ) ON DUPLICATE KEY UPDATE ` value ` = VALUES ( value );","title":"Sign Static Files"},{"location":"magento-2/configuration/#general","text":"Stores Configuration General Web m2 config:set web/cookie/cookie_lifetime 31536000 # Default Cookie Settings Cookie Lifetime m2 config:set web/seo/use_rewrites 1 # Search Engine Optimization Use Web Server Rewrites = Yes Stores Configuration Mageplaza Extensions General Configuration m2 config:set smtp/general/enabled 0 # Enable Mageplaza SMTP = No Set Base URL url = prj.com m2 setup:store-config:set --base-url = https:// $url / --base-url-secure = https:// $url / --use-secure = 1 --use-secure-admin = 1 m2 cache:clean","title":"General"},{"location":"magento-2/configuration/#admin","text":"Stores Configuration Advanced Admin m2 config:set admin/captcha/enable 0 # CAPTCHA Enable CAPTCHA in Admin = No Stores Configuration Advanced Admin Security m2 config:set admin/security/session_lifetime 31536000 # Admin Session Lifetime (seconds) m2 config:set admin/security/password_lifetime # Password Lifetime (days) m2 config:set admin/security/admin_account_sharing 1 # Admin Account Sharing = Yes m2 config:set admin/security/lockout_failures # Maximum Login Failures to Lockout Account = m2 config:set admin/security/password_is_forced 0 # Password Change = Recommended m2 config:set admin/security/use_form_key 0 # Add Secret Key to URLs = No","title":"Admin"},{"location":"magento-2/configuration/#cssjs","text":"Stores Configuration Advanced CSS Settings m2 config:set dev/css/merge_css_files 0 # Merge CSS Files = No m2 config:set dev/css/minify_files 0 # Minify CSS Files = No Stores Configuration Advanced JavaScript Settings m2 config:set dev/js/merge_files 0 # Merge JavaScript Files = No m2 config:set dev/js/enable_js_bundling 0 # Enable JavaScript Bundling = No m2 config:set dev/js/minify_files 0 # Minify JavaScript Files = No","title":"CSS/JS"},{"location":"magento-2/configuration/#debug","text":"Template Hints m2 config:set dev/debug/template_hints_storefront 1 m2 config:set dev/debug/template_hints_blocks 1 # enable m2 config:set dev/debug/template_hints_storefront 0 m2 config:set dev/debug/template_hints_blocks 0 # disable Magento Admin Stores Configuration Advanced Developer Debug Enabled Template Path Hints for Storefront Stores Configuration Advanced Developer Debug Add Block Class Type to Hints Debug Logging m2 setup:config:set --enable-debug-logging = true m2 cache:flush # enable m2 setup:config:set --enable-debug-logging = false m2 cache:flush # disable Syslog Logging m2 setup:config:set --enable-syslog-logging = true m2 cache:flush # enable m2 setup:config:set --enable-syslog-logging = false m2 cache:flush # disable Database logging m2 dev:query-log:enable m2 cache:flush cat var/debug/db.log | less m2 dev:query-log:disable m2 cache:flush","title":"Debug"},{"location":"magento-2/cron/","text":"Bash Environment Configuration ~/.bashrc.d/env export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;47m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;153m\\]\\h:\\[\\e[0;38;05;111m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] alias phpx = php -dxdebug.remote_autostart=1 alias m2 = php bin/magento alias m2x = phpx bin/magento ~/.profile export PATH = $HOME /bin: $PATH Run cron as standalone process: m2 cron:run --group = default --bootstrap = standaloneProcessStarted = 1 Files: Magento\\Cron\\Observer\\ProcessCronQueueObserver::execute(Observer $observer) ( view ) Magento\\Cron\\Observer\\ProcessCronQueueObserver::processPendingJobs($groupId, $jobsRoot, $currentTime) ( view )","title":"Cron"},{"location":"magento-2/general/","text":"Bash Environment Configuration ~/.bashrc.d/env export PS1 = \\[\\e[0;38;05;15m\\][\\[\\e[0;38;05;47m\\]\\u\\[\\e[0;38;05;15m\\]@\\[\\e[0;38;05;153m\\]\\h:\\[\\e[0;38;05;111m\\]\\w\\[\\e[0;38;05;15m\\]]\\\\ $ \\[\\e[0m\\] alias phpx = php -dxdebug.remote_autostart=1 alias m2 = php bin/magento alias m2x = phpx bin/magento ~/.profile export PATH = $HOME /bin: $PATH PhpStorm Urn container: m2 dev:urn-catalog:generate .idea/misc.xml host: sed -i s|/var/www/myproject|`pwd`|g .idea/misc.xml PhpStorm: synchronize root directory wait 10 seconds. Create Magento Project Latest Magento version: composer create-project --repository-url = https://repo.magento.com/ magento/project-community-edition m23x Specific Magento version: composer create-project --repository-url = https://repo.magento.com/ magento/project-community-edition = 2 .3.3 m233 Upgrade Magento Project cp composer.json composer.json.bak composer require magento/product-community-edition 2 .3.3 --no-update composer update m2 setup:upgrade Create module package For Marketplace: git clone https://git.example.com/Vendor_Module.git cd Vendor_Module zip -r9 vendor-module-1.0.0.zip . -x *.git* *.idea* Alternative way (archive will have a path app/code/Vendor/Module/): zip -r9 vendor-module-1.0.0.zip app/code/Vendor/Module/ -x *.git* Add Administrator m2 admin:user:create --admin-user = admin --admin-password = password --admin-email = support@example.com --admin-firstname = Support --admin-lastname = Account Data Patch Development mysql -e DELETE FROM patch_list WHERE patch_name = Vendor\\\\Module\\\\Setup\\\\Patch\\\\Data\\\\InitializeStoresAndWebsites m2x setup:upgrade Recompile m2 = php -d memory_limit=-1 bin/magento \\ $m2 maintenance:enable \\ $m2 cache:clean \\ rm -Rf generated/code/* var/cache/* var/page_cache/* var/di/* var/view_preprocessed/* pub/static/* \\ redis-cli FLUSHALL \\ $m2 setup:di:compile \\ $m2 setup:static-content:deploy -t Vendor/default fr_FR en_US \\ $m2 setup:static-content:deploy -t Magento/backend fr_FR en_US \\ $m2 maintenance:disable \\ sudo systemctl restart varnish","title":"General"},{"location":"magento-2/general/#phpstorm-urn","text":"container: m2 dev:urn-catalog:generate .idea/misc.xml host: sed -i s|/var/www/myproject|`pwd`|g .idea/misc.xml PhpStorm: synchronize root directory wait 10 seconds.","title":"PhpStorm Urn"},{"location":"magento-2/general/#create-magento-project","text":"Latest Magento version: composer create-project --repository-url = https://repo.magento.com/ magento/project-community-edition m23x Specific Magento version: composer create-project --repository-url = https://repo.magento.com/ magento/project-community-edition = 2 .3.3 m233","title":"Create Magento Project"},{"location":"magento-2/general/#upgrade-magento-project","text":"cp composer.json composer.json.bak composer require magento/product-community-edition 2 .3.3 --no-update composer update m2 setup:upgrade","title":"Upgrade Magento Project"},{"location":"magento-2/general/#create-module-package","text":"For Marketplace: git clone https://git.example.com/Vendor_Module.git cd Vendor_Module zip -r9 vendor-module-1.0.0.zip . -x *.git* *.idea* Alternative way (archive will have a path app/code/Vendor/Module/): zip -r9 vendor-module-1.0.0.zip app/code/Vendor/Module/ -x *.git*","title":"Create module package"},{"location":"magento-2/general/#add-administrator","text":"m2 admin:user:create --admin-user = admin --admin-password = password --admin-email = support@example.com --admin-firstname = Support --admin-lastname = Account","title":"Add Administrator"},{"location":"magento-2/general/#data-patch-development","text":"mysql -e DELETE FROM patch_list WHERE patch_name = Vendor\\\\Module\\\\Setup\\\\Patch\\\\Data\\\\InitializeStoresAndWebsites m2x setup:upgrade","title":"Data Patch Development"},{"location":"magento-2/general/#recompile","text":"m2 = php -d memory_limit=-1 bin/magento \\ $m2 maintenance:enable \\ $m2 cache:clean \\ rm -Rf generated/code/* var/cache/* var/page_cache/* var/di/* var/view_preprocessed/* pub/static/* \\ redis-cli FLUSHALL \\ $m2 setup:di:compile \\ $m2 setup:static-content:deploy -t Vendor/default fr_FR en_US \\ $m2 setup:static-content:deploy -t Magento/backend fr_FR en_US \\ $m2 maintenance:disable \\ sudo systemctl restart varnish","title":"Recompile"},{"location":"magento-2/layout/","text":"Add block with html content referenceContainer name= content block class= Magento\\Framework\\View\\Element\\Text name= my.block.name arguments argument translate= true name= text xsi:type= string Lorem ipsum dolor ... /argument /arguments /block /referenceContainer Add content block by id referenceContainer name= content block class= Magento\\Cms\\Block\\Block name= my.content.block arguments argument name= block_id xsi:type= string my-content-block-id /argument /arguments /block /referenceContainer Add block to page head section referenceBlock name= head.additional block class= Magento\\Framework\\View\\Element\\Text name= my.block.name template= Vendor_Module::template.phtml / /referenceBlock","title":"Layout"},{"location":"magento-2/layout/#add-block-with-html-content","text":"referenceContainer name= content block class= Magento\\Framework\\View\\Element\\Text name= my.block.name arguments argument translate= true name= text xsi:type= string Lorem ipsum dolor ... /argument /arguments /block /referenceContainer","title":"Add block with html content"},{"location":"magento-2/layout/#add-content-block-by-id","text":"referenceContainer name= content block class= Magento\\Cms\\Block\\Block name= my.content.block arguments argument name= block_id xsi:type= string my-content-block-id /argument /arguments /block /referenceContainer","title":"Add content block by id"},{"location":"magento-2/layout/#add-block-to-page-head-section","text":"referenceBlock name= head.additional block class= Magento\\Framework\\View\\Element\\Text name= my.block.name template= Vendor_Module::template.phtml / /referenceBlock","title":"Add block to page head section"},{"location":"magento-2/ui/","text":"Show all UI components on the page require ( uiRegistry ). get (( component , name ) = { console . groupCollapsed ( name ); console . log ( component ); console . groupEnd (); }); Filter by name: define the uiQuery ( q ) function: var uiQuery = ( q ) = require ( uiRegistry ). get (( component , name ) = { if ( ! name || !~ name . indexOf ( q )) return ; console . groupCollapsed ( name ); console . log ( component ); console . groupEnd (); }); search for \"checkout\" components: uiQuery ( checkout );","title":"Ui"},{"location":"magento-2/ui/#show-all-ui-components-on-the-page","text":"require ( uiRegistry ). get (( component , name ) = { console . groupCollapsed ( name ); console . log ( component ); console . groupEnd (); }); Filter by name: define the uiQuery ( q ) function: var uiQuery = ( q ) = require ( uiRegistry ). get (( component , name ) = { if ( ! name || !~ name . indexOf ( q )) return ; console . groupCollapsed ( name ); console . log ( component ); console . groupEnd (); }); search for \"checkout\" components: uiQuery ( checkout );","title":"Show all UI components on the page"},{"location":"magento-2/useful-links/","text":"Magento\\CatalogInventory\\Model\\StockStateProvider::checkQty(StockItemInterface $stockItem, $qty) ( view ) Magento\\PageCache\\Observer\\FlushCacheByTags::execute(Observer $observer) ( view )","title":"Useful links"}]}